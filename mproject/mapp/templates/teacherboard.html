{% load static %}
<!DOCTYPE html>
<html lang="en">
<html>
    <head> 
        <title>Personal Profile Page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{%static 'css/style.css' %}" type="text/css">
        <link rel="stylesheet" href="{%static 'css/styles.css' %}" type="text/css">
        <link rel="stylesheet" href="{%static 'css/main.css' %}" type="text/css">
        <link rel="stylesheet" href="{% static 'css/skins/pink.css' %}" type="text/css">

                                  <!--Live Style Switcher - Demo Only-->
        <link rel="stylesheet" class="alternate-style" title="pink" href="{% static 'css/skins/pink.css' %}" type="text/css" disabled>
        <link rel="stylesheet" class="alternate-style" title="blue" href="{% static 'css/skins/blue.css' %}" type="text/css" disabled>
        <link rel="stylesheet" class="alternate-style" title="orange" href="{% static 'css/skins/orange.css' %}" type="text/css" disabled>
        <link rel="stylesheet" class="alternate-style" title="yellow" href="{% static 'css/skins/yellow.css' %}" type="text/css" disabled>
        <link rel="stylesheet" class="alternate-style" title="green" href="{% static 'css/skins/green.css' %}" type="text/css" disabled>

        <link rel="stylesheet" href="{%static 'css/styleSwitcher.css' %}" type="text/css">
        <link rel="stylesheet" href="{%static 'testing.css' %}" type="text/css">
        <link rel="stylesheet" href="{%static 'css/tab.css' %}" type="text/css">
        <link rel="stylesheet" href="{%static 'tab.css' %}" type="text/css">

        <style>
          input[type="number"] {
            -moz-appearance: textfield;
        }
        </style>
    </head>
   <body>
     <div class="preloaded">
        <div class="loader">

        </div>
     </div>


       <!--main-container-->  
       <div class="main-container">
          <!--Aside begins-->
           <div class="aside">
               <!--logo-->
               <div class="logo">
                <div class="logo" id="logo">
                  <img src="{{ teacher.profile_picture.url }}" alt="profile photo" style="border-radius:50%; border:5px solid white;">
                    <a href="#home" class="active"><span style="color:mediumblue;">{{ teacher.username }}</span>inic69</a>
                  </div>
               </div>
               <!--Nav Toggle btn-->
               <div class="nav-toggle">
                   <span></span>
               </div>
               <!--Nav-->
               <ul class="nav">
                {% comment %} <li><a href="#home" class="active"><i class="fa fa-home"></i>profile</a></li> {% endcomment %}
                <li><a href="#attendance" class="active"><i class="fa fa-home"></i>Attendance</a></li>
                <li><a href="#about"><i class="fa fa-user"></i>Notification</a></li>
                <li><a href="#services"><i class="fa fa-list"></i>Memo</a></li>
                <li><a href="#portfolio"><i class="fa fa-briefcase"></i>Assignment</a></li>
                <li><a href="#blog"><i class="fa fa-envelope"></i>Report</a></li>
                <li><a href="#contact"><i class="fa fa-user"></i>Test C A</a></li>
                <li><a href="#seven"><i class="fa fa-user"></i>Examination</a></li>
                <li><a href="#eight"><i class="fa fa-list"></i>Result</a></li>
                <li><a href="#"><i class="fa fa-briefcase"></i>Loan</a></li>
                <li><a href="/"><i class="fa fa-envelope"></i>Logout</a></li>
               </ul>
               <!--Copyright-->
               <div class="copyright-text">
                    &copy; 2021 Jascube Technologies 
               </div>

           </div>
           <!--Aside ends-->

           <!--Main content-->
           <div class="main-content">
               <!--Home Section-->

               <section class="home section active" id="home">
                <div class="container">
                    <div class="intro">
                       <h1 id="wel">Welcome {{ teacher.username }}</h1>
                      <div class="tsaprofile"> 
                        {% comment %} <img src="{% static 'images/profile.png' %}"> {% endcomment %}
                        <img id="img" src="{{ teacher.profile_picture.url }}" alt="{{ teacher.Firstname }}">
                        <p><span style="color:mediumblue;">DOM</span>INIC TORRETO</P>
                        <p>{{ teacher.Email }}</P>
                        <p>{{ teacher.Mobile }}</P>
                      </div>
                </div>
              </section>
               <!--Home Section End-->
               
              <section class="about section" id="attendance">
                <div class="container">
                    <div class="row">
                      <div class="table-container" style="margin-top:20px;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Student Name</th>
                                    <th>wk1</th>
                                    <th>wk2</th>
                                    <th>wk3</th>
                                    <th>wk4</th>
                                    <th>wk5</th>
                                    <th>wk6</th>
                                    <th>wk7</th>
                                    <th>wk8</th>
                                    <th>wk9</th>
                                    <th>wk10</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Add rows here -->
                                <tr>
                                    <td>Dominic</td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio"></td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Lunar</td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td>
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                    <td><input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                      <input type="radio">
                                    </td>
                                </tr>
                                <!-- Add more rows as needed -->
                            </tbody>
                        </table>
                    </div>
                      <div class="portfolio-filter padd-15">
                        
                        {% comment %} <h1>Welcome, {{ firstname }} {{ surname }}</h1> {% endcomment %}

                        {% comment %} {% if attendance_records %}
                            <h2>Attendance Records for Class {{ teacher.Class_Teacher }}</h2>
                            <table border="1">
                                <thead>
                                    <tr>
                                        <th>Student</th>
                                        {% for week in range(1, 15) %}
                                            <th>Week {{ week }}</th>
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for record in attendance_records %}
                                        <tr>
                                            <td>{{ record.student_name }}</td>
                                            {% for week in range(1, 15) %}
                                                <td>
                                                    {% for i in range(1, 6) %}
                                                        <input type="checkbox" name="week_{{ week }}_{{ i }}" {% if record.week_{{ week }} %}checked{% endif %} disabled>
                                                    {% endfor %}
                                                </td>
                                            {% endfor %}
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        {% else %}
                            <p>No attendance records available or you are not assigned as a class teacher.</p>
                        {% endif %}
                      </div>
                    </div> {% endcomment %}
                    <!-- portfolio Item Ends -->
                  </div>   
                </div>
              </section>  


            <section class="about section" id="about">
              <div class="container">
                    <div class="row">
                      <h1>This is notifications Page</h1>                            
                      <!--Service Item Ends-->
                    </div>
              </div>
          </section>

               
               <!--About Section Begins-->

               <!--About Section Ends-->

               <!--Service Section Begins-->
           <section class="service section" id="services">
                <div class="container">
                      <div class="row">

                        <h1>THIS IS MEMO PAGE</H1>
                              
                        <!--Service Item Ends-->
                      </div>
                </div>
            </section>
               <!--Service Section Ends-->

            <!--Portfolio Section Begins-->
             <section class="portfolio section" id="portfolio">
                <div class="container">
                    <div class="row">
                        <div class="portfolio-filter padd-15">
                          <div class="cardss" style="width:100vw;">
                            <div class="jssone"><a href="#">
                              <div class="contain">
                              <button id="showTextButton"> 
                                <h1>JSS</h1>
                                <h2>1</h2>
                              </button>
                              </div>
                              </a>   
                             </div>
            
                             <div class="jsstwo"><a href="#">
                                <div class="contain">
                                <button id="showTextButtonTwo">
                                  <h1>JSS</h1>
                                  <h2>2</h2>
                                </button>
                                </div>
                                </a>   
                               </div>
            
                               <div class="jssthree"><a href="#">
                                <div class="contain">
                                  <button id="showTextButtonThree">
                                    <h1>JSS</h1>
                                    <h2>3</h2>
                                  </button>
                                </div>
                                </a>   
                               </div>     
                               
                               <div class="ssone"><a href="#">
                                <div class="contain">
                                  <button id="showTextButtonFour">
                                    <h1>SS</h1>
                                    <h2>1</h2>
                                  </button>
                                </div>
                                </a>   
                               </div>  
            
                               <div class="sstwo"><a href="#">
                                <div class="contain">
                                  <button id="showTextButtonFive">
                                    <h1>SS</h1>
                                    <h2>2</h2>
                                  </button>
                                </div>
                                </a>   
                               </div>  
            
                               <div class="ssthree"><a href="#">
                                <div class="contain">
                                  <button id="showTextButtonSix">
                                    <h1>SS</h1>
                                    <h2>3</h2>
                                  </button>
                                </div>
                                </a>   
                               </div>  
                            </div>
            
                            {% comment %} <div class="search">
                            <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names..">
                            </div> {% endcomment %}
            
                            <table id="myTable">
                              <!-- <tr class="header">
                                <th style="width:30%;"></th>
                                <th style="width:25%;"></th>
                                <th style="width:25%;"></th>
                                <th style="width:20%;"></th>
                              </tr> -->
                              
                              {% comment %} {% for row in data %}
                                <td>{{ row[0] }}</td>
                                <td>{{ row[1] }}</td>
                                <td>{{ row[2] }}</a></td>
                                <td style="font-size: medium;"><a  href="">View</a>   <a  href="">Modify</a></td>
                              </tr>
                              {% endfor %} {% endcomment %}
                            </table>
            
                            {% comment %} <div id="hiddenText" style="display: none;">
                              <form action="/upload" method="post" enctype="multipart/form-data">
                                  <input type="file" name="file">
                                  <br>
                                  <button type="submit">Submit</button>
                              </form>
                          </div>             {% endcomment %}
                          <div id="hiddenText" class="assign" style="margin-top: 10px; display:none;">
                            <label for="perfect-textarea"></label>
                            <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>

                            <div class="checkbox-container"> 
                              <label for="myCheckbox"> 
                                <input type="checkbox" id="myCheckbox" name="myCheckbox"> Select all </label>
                                <br>
                                
                                <label for="myCheckbox"> 
                                <input type="checkbox" id="myCheckbox" name="myCheckbox"> Some</label>
                            </div>

                            <button type="submit" style="width:60px; border-radius:20px; font-size:larger; font-weight:bolder;  color:white;">Submit</button>

                          </div>
  
                    </div>

                    <!-- portfolio Item Ends -->
                  </div>
                    
                  </div>
            </section>  
            <!--Portfolio Section Ends-->  


            <!--Blog section begins-->
            <section class="blog section" id="blog">
                <div class="container">
                    <div class="row">
                      
                      <div class="container">
                        <label for="perfect-textarea">Your Message:</label>
                        <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>
                    </div>

                      <div class="container">
                        <input type="file" id="file-input" class="file-input" style="display: none;" />
                        <button id="import-btn" class="btn">Import</button>

                          <!-- Blog content Ends -->
                    </div>
                </div>
            </section>
            <!--Blog Section Ends-->

            <!--Contact Section Begins-->
                       <!--Blog section begins-->
                       <section class="contact section" id="contact">
                        <div class="container" style="padding-top:0;">
                            <div class="row" style="margin-top:0;">

                              <div class="cardss" style="margin-left:50px">
                                <div class="card-one"><a href="#">
                                  <div class="contain">
                                  <h1>SS2 Class</h1>
                                  <h2>{{ teacher_count }}</h2>
                                  </div>
                                  </a>   
                                 </div>
                            
                                <div class="card-two" id="cardData"><a href="#">
                                  <div class="contain">
                                  <h1>SS2 Class</h1>
                                  <h2><p>{{ student_count }}</p></h2>
                                  </div>
                                  </a>
                                </div>
                
                                <div class="card-four"><a href="#">
                                  <div class="contain">
                                  <h1>SS3 class</h1>
                                  <h2></h2>
                                  </div>
                                  </a>   
                                 </div>
                              </div>
                            </div>

                            <div class="container">
                              <h2>Input Table</h2>
                              <form method="post">
                                  {% csrf_token %}
                                  <table class="table">
                                      <thead>
                                          <tr>
                                              <th>Names</th>
                                              <th>Input 1</th>
                                              <th>Input 2</th>
                                              <th>Input 3</th>
                                              <th>Total</th>
                                              <th>Actions</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          {% comment %} {% for teacher in teachers %} {% endcomment %}
                                          <tr>
                                              <td>{{ teachers.firstname }}</td>
                                              <td><input type="number" id="id_input1" name="input1" value="{{ form.input1.value }}" readonly class="gray-input"></td>
                                              <td><input type="number" id="id_input2" name="input2" value="{{ form.input2.value }}" readonly class="gray-input"></td>
                                              <td><input type="number" id="id_input3" name="input3" value="{{ form.input3.value }}" readonly class="gray-input"></td>
                                              <td id="total">0</td>
                                              <td><button type="button" id="editButton">Edit</button></td>
                                          </tr>
                                          {% comment %} {% endfor %} {% endcomment %}
                                      </tbody>
                                  </table>
                                  <p id="error-message" class="error"></p>
                                  <button type="submit">Submit</button>
                              </form>
                          </div>
                      


        
                                  <!-- Blog content Ends -->
                            </div>
                        </div>
                    </section>
                    <!--Blog Section Ends-->
        
            <!--Contact Section ends-->


                        <!--Blog section begins-->
                        <section class="blog section" id="seven">
                          <div class="container">
                              <div class="row">
                                
                                <div class="exam">
                                  <label for="perfect-textarea"></label>
                                  <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>
                              
                                  <input type="file" id="file-input" class="file-input" style="display: none;" />
                                  <button id="import-btn" class="btn">Import</button>

                                  <button id="submit">Submit</button>
                                </div>
          
                                    <!-- Blog content Ends -->
                              </div>
                          </div>
                      </section>
                      <!--Blog Section Ends-->

                                  <!--Blog section begins-->
            <section class="blog section" id="eight">
              <div class="container">
                  <div class="row">
                    
                    <div class="container">
                      <label for="perfect-textarea">Your Message:</label>
                      <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>
                  </div>

                    <div class="container">
                      <input type="file" id="file-input" class="file-input" style="display: none;" />
                      <button id="import-btn" class="btn">Import</button>

                        <!-- Blog content Ends -->
                  </div>
              </div>
          </section>
          <!--Blog Section Ends-->
  

          
                      <!--Blog section begins-->
                      <section class="blog section" id="nine">
                        <div class="container">
                            <div class="row">
                              
                              <div class="container">
                                <label for="perfect-textarea">Your Message:</label>
                                <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>
                            </div>
        
                              <div class="container">
                                <input type="file" id="file-input" class="file-input" style="display: none;" />
                                <button id="import-btn" class="btn">Import</button>
        
                                  <!-- Blog content Ends -->
                            </div>
                        </div>
                    </section>
                    <!--Blog Section Ends-->
        

                                <!--Blog section begins-->
            <section class="blog section" id="ten">
              <div class="container">
                  <div class="row">
                    
                    <div class="container">
                      <label for="perfect-textarea">Your Message:</label>
                      <textarea id="perfect-textarea" name="message" rows="10" cols="30" placeholder="Enter your text here..."></textarea>
                  </div>

                    <div class="container">
                      <input type="file" id="file-input" class="file-input" style="display: none;" />
                      <button id="import-btn" class="btn">Import</button>

                        <!-- Blog content Ends -->
                  </div>
              </div>
          </section>
          <!--Blog Section Ends-->



          <script>
            // Function to dynamically calculate and update the total
            function updateTotal(studentId) {
                let ca1 = parseFloat(document.getElementById('ca1-' + studentId).value) || 0;
                let ca2 = parseFloat(document.getElementById('ca2-' + studentId).value) || 0;
                let ca3 = parseFloat(document.getElementById('ca3-' + studentId).value) || 0;
            
                let total = ca1 + ca2 + ca3;
            
                // Update total in the table
                document.getElementById('total-' + studentId).textContent = total;
            
                // Optionally, you can send the updated data to the backend using AJAX to save it.
                // For simplicity, we will just log the data here.
                console.log('Updated total for student ' + studentId + ': ' + total);
            }
            
            // Function to handle editing the scores and saving changes (AJAX or form submission)
            function editScores(studentId) {
                let ca1 = document.getElementById('ca1-' + studentId).value;
                let ca2 = document.getElementById('ca2-' + studentId).value;
                let ca3 = document.getElementById('ca3-' + studentId).value;
            
                // Send the updated data to the server (can use AJAX or submit via a form)
                console.log('Saving scores for student ' + studentId);
                console.log('CA1: ' + ca1 + ', CA2: ' + ca2 + ', CA3: ' + ca3);
            
                // Example of submitting a form with updated values:
                // You can send an AJAX request here or trigger a form submission.
                // For simplicity, this example just logs the changes.
            }


            function editScores(studentId) {
              let ca1 = document.getElementById('ca1-' + studentId).value;
              let ca2 = document.getElementById('ca2-' + studentId).value;
              let ca3 = document.getElementById('ca3-' + studentId).value;
          
              // Send the updated data to the server using AJAX
              fetch('/update-scores/', {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json',
                      'X-CSRFToken': '{{ csrf_token }}',
                  },
                  body: JSON.stringify({
                      'student_id': studentId,
                      'ca1': ca1,
                      'ca2': ca2,
                      'ca3': ca3,
                  }),
              })
              .then(response => response.json())
              .then(data => {
                  console.log('Scores updated:', data);
                  updateTotal(studentId);  // Recalculate the total after saving
              })
              .catch(error => console.error('Error:', error));
          }
          
            </script>



          <script>
            document.getElementById("showTextButton").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
            document.getElementById("showTextButtonTwo").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
            document.getElementById("showTextButtonThree").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
            document.getElementById("showTextButtonFour").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
            document.getElementById("showTextButtonFive").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
            document.getElementById("showTextButtonSix").onclick = function() {
              const hiddenText = document.getElementById("hiddenText");
              hiddenText.style.display = "block";
            };
           </script>

            
           </div>
           <!--Main content ends-->
       </div>
       <!--main-container ends-->

<!-- Lightbox begins-->
<div class="lightbox">
  <div class="lightbox-content">
    <div class="lightbox-close">&times;</div>
    <img src="images/portfolio/1a.png" class="lightbox-img" onclick="nextItem()">
    <div class="lightbox-caption">
      <div class="caption-text">Web Design</div>
      <div class="caption-counter"></div>
   </div>
  </div>
  <div class="lightbox-controls">
    <div class="prev-item" onclick="prevItem"><i class="fa fa-angle-left"></i></div>
    <div class="next-item" onclick="nextItem"><i class="fa fa-angle-right"></i></div>
  </div>
</div>
<!-- Lightbox ends-->

<!--Live Switcher begins-->
<div class="style-switcher">
  <div class="toggle-style-switcher">
    <i class="fa fa-cog fa-spin" ></i>
  </div>
  <h5>Style Switcher</h5>
  <ul>
    <li><a href="Javascript:void(0);" title="pink" style="background-color: #ec1839" onclick="setActiveStyle('pink')"></a></li>
    <li><a href="Javascript:void(0);" title="blue" style="background-color: #2196f3" onclick="setActiveStyle('blue')"></a></li>
    <li><a href="Javascript:void(0);" title="orange" style="background-color: #fa5b0f" onclick="setActiveStyle('orange')"></a></li>
    <li><a href="Javascript:void(0);" title="yellow" style="background-color: #ffb400" onclick="setActiveStyle('yellow')"></a></li>
    <li><a href="Javascript:void(0);" title="green" style="background-color: #72b626" onclick="setActiveStyle('green')"></a></li>
  </ul>
  <h5>Body Skin</h5>
  <label>
    <input type="radio" class="body-skin" name="body-style" value="light" checked="true">
    Light
  </label>
  <input type="radio" class="body-skin" name="body-style" value="dark">
    Dark
  </label>
</div>
<!--Live Switcher end-->

<!--Javascript Template-->
<script src="{% static 'js/script.js' %}"></script>
<script src="{% static 'script.js' %}"></script>

<!-- styleSwitcher Javascript -->
<script src="{% static 'js/styleSwitcher.js' %}"></script>
</body>
</html>
